<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Blog | Samuel Cubano</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="Blog de Samuel Cubano. Art√≠culos sobre desarrollo web, frontend, CSS, JavaScript y programaci√≥n."
    />
    <link rel="stylesheet" href="/style/style.css" />
    <link rel="stylesheet" href="/style/style-blog.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jersey+10&family=Pixelify+Sans:wght@400..700&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/cf1fb60fea.js" crossorigin="anonymous"></script>

  </head>
 <body class="theme-dark">

    <!-- HEADER / NAV -->
    <header class="site-header">
      <nav class="nav">
        <a href="#" class="nav__brand">
          <div class="nav__logo"></div>
          <span class="nav__brand-text">Samuel Cubano</span>
        </a>

        <div class="nav__right">
          <ul class="nav__links">
            <li><a href="/aboutme/">Sobre m√≠</a></li>
            <li><a href="/skills/">Skills</a></li>
            <li><a href="/projects/">Proyectos</a></li>
            <li><a href="/services/">Servicios</a></li>
            <li><a href="/contact/">Contacto</a></li>
          </ul>

          <!-- Toggle tema -->
          <button
            class="theme-toggle"
            type="button"
            aria-label="Cambiar tema"
          >
            <span class="theme-toggle__icon">üåô</span>
          </button>

          <a href="/blog/" class="nav__cta">Blog</a>

          <!-- Hamburguesa -->
          <button
            class="nav__toggle"
            type="button"
            aria-label="Abrir men√∫"
            aria-expanded="false"
          >
            <span class="nav__toggle-line"></span>
            <span class="nav__toggle-line"></span>
            <span class="nav__toggle-line"></span>
          </button>
        </div>
      </nav>

      <!-- MEN√ö M√ìVIL -->
      <div class="mobile-menu">
        <div class="mobile-menu__overlay" data-close-menu></div>
        <div class="mobile-menu__panel">
          <div class="mobile-menu__top">
            <span class="mobile-menu__title">Men√∫</span>
            <button
              class="mobile-menu__close"
              type="button"
              aria-label="Cerrar men√∫"
              data-close-menu
            >
              ‚úï
            </button>
          </div>

          <ul class="mobile-menu__links">
            <li><a href="/aboutme/" data-close-menu>SOBRE M√ç</a></li>
            <li><a href="/skills/" data-close-menu>SKILLS</a></li>
            <li><a href="/projects/" data-close-menu>PROYECTOS</a></li>
            <li><a href="/services/" data-close-menu>SERVICIOS</a></li>
            <li><a href="/contact/" data-close-menu>CONTACTO</a></li>
          </ul>

          <div class="mobile-menu__bottom">
            <button
              class="theme-toggle theme-toggle--mobile"
              type="button"
              aria-label="Cambiar tema"
            >
              <span class="theme-toggle__icon">üåô</span>
              <span class="theme-toggle__label">Modo oscuro / claro</span>
            </button>

            <a
              href="/blog/"
              class="mobile-menu__cta"
              data-close-menu
            >
              Blog
            </a>
          </div>
        </div>
      </div>
    </header>


    <main>
      <!-- HERO BLOG -->
      <section class="page-hero">
        <div class="page-hero__inner">
          <div class="page-hero__badge">Blog</div>
          <h1 class="page-hero__title">
            Art√≠culos de desarrollo web y programaci√≥n.
            <span>Notas, ideas y cosas que voy aprendiendo en el camino.</span>
          </h1>
          <p class="page-hero__text">
            Aqu√≠ guardo lo que voy descubriendo construyendo proyectos reales:
            frontend, CSS, JS, buenas pr√°cticas y algo de filosof√≠a dev.
          </p>

          <div class="page-hero__tags">
            <span>HTML ¬∑ CSS ¬∑ JS</span>
            <span>Frontend</span>
            <span>Tips pr√°cticos</span>
          </div>
        </div>
        <span class="blog-anchor"></span>
      </section>

      <!-- CONTROLES + GRID -->
      <section class="section section--alt">
        <div class="section__inner">
          <div class="section__header">
            <h2 class="section__eyebrow">Explora el contenido</h2>
            <p class="section__title">
              Filtra por fecha, tema o busca algo espec√≠fico.
            </p>
          </div>



          <!-- CONTROLES -->
          <div class="blog-controls">
            <!-- Buscador -->
            <div class="blog-controls__search">
              <label for="blog-search" class="blog-controls__label">
                Buscar
              </label>
              <div class="blog-search">
                <span class="blog-search__icon">üîç</span>
                <input
                  type="text"
                  id="blog-search"
                  class="blog-search__input"
                  placeholder="Escribe una palabra del t√≠tulo o tema (ej: frontend, responsive, portafolio)"
                />
              </div>
            </div>

            <!-- Filtros -->
            <div class="blog-controls__filters">
              <div class="blog-filter">
                <label for="filter-year" class="blog-controls__label">
                  A√±o
                </label>
                <select id="filter-year" class="blog-filter__select">
                  <option value="all">Todos</option>
                  <option value="2026">2026</option>
                  <option value="2025">2025</option>
                </select>
              </div>

              <div class="blog-filter">
                <label for="filter-month" class="blog-controls__label">
                  Mes
                </label>
                <select id="filter-month" class="blog-filter__select">
                  <option value="all">Todos</option>
                  <option value="01">Enero</option>
                  <option value="02">Febrero</option>
                  <option value="03">Marzo</option>
                  <option value="04">Abril</option>
                  <option value="05">Mayo</option>
                  <option value="06">Junio</option>
                  <option value="07">Julio</option>
                  <option value="08">Agosto</option>
                  <option value="09">Septiembre</option>
                  <option value="10">Octubre</option>
                  <option value="11">Noviembre</option>
                  <option value="12">Diciembre</option>
                </select>
              </div>

              <div class="blog-filter blog-filter--tags">
                <span class="blog-controls__label">Tag</span>
                <div class="blog-tags">
                  <button
                    class="tag-chip tag-chip--active"
                    data-tag="all"
                    type="button"
                  >
                    Todos
                  </button>
                  <button
                    class="tag-chip"
                    data-tag="frontend"
                    type="button"
                  >
                    Frontend
                  </button>
                  <button class="tag-chip" data-tag="css" type="button">
                    CSS
                  </button>
                  <button class="tag-chip" data-tag="javascript" type="button">
                    JavaScript
                  </button>
                  <button class="tag-chip" data-tag="buenas-practicas" type="button">
                    Buenas pr√°cticas
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- MENSAJE SIN RESULTADOS -->
          <div id="blog-empty" class="blog-empty" hidden>
            <p class="blog-empty__title">No encontr√© nada con ese filtro.</p>
            <p class="blog-empty__text">
              Prueba con otra palabra, quita alg√∫n filtro de fecha o elige
              ‚ÄúTodos‚Äù en tags. A veces la idea est√°, solo hay que buscarla
              distinto.
            </p>
          </div>

          

          <!-- GRID DE ART√çCULOS -->
          <div class="blog-grid" id="blog-grid">

            <article
              class="blog-card"
              data-year="2026"
              data-month="01"
              data-date="2026-01-12"
              data-tags="frontend,estructura,proyecto"
              data-title="C√≥mo estructuro un proyecto frontend desde cero"
            >
              <a
                href="/blog/estructura-proyecto-frontend.html"
                class="blog-card__link"
              >
                <div class="blog-card__thumb blog-card__thumb--one"></div>

                <div class="blog-card__body">
                  <p class="blog-card__meta">
                    <span class="blog-card__date">12 Ene 2026</span>
                    <span class="blog-card__tag">Frontend</span>
                  </p>

                  <h3 class="blog-card__title">
                    C√≥mo estructuro un proyecto frontend desde cero
                  </h3>

                  <p class="blog-card__excerpt">
                    Carpetas, componentes, estilos y peque√±os trucos para que un
                    proyecto no se vuelva un caos a la tercera semana.
                  </p>

                  <div class="blog-card__tagsline">
                    <span>#frontend</span>
                    <span>#arquitectura</span>
                    <span>#proyectos</span>
                  </div>

                  <div class="blog-card__footer">
                    <span class="blog-card__readtime">
                      Lectura corta ¬∑ ~6 min
                    </span>
                    <span class="blog-card__cta">Leer art√≠culo ‚Üí</span>
                  </div>
                </div>
              </a>
            </article>

            <article
              class="blog-card"
              data-year="2026"
              data-month="01"
              data-date="2026-01-12"
              data-tags="frontend,estructura,proyecto"
              data-title="C√≥mo estructuro un proyecto frontend desde cero"
            >
              <a
                href="/blog/estructura-proyecto-frontend.html"
                class="blog-card__link"
              >
                <div class="blog-card__thumb blog-card__thumb--one"></div>

                <div class="blog-card__body">
                  <p class="blog-card__meta">
                    <span class="blog-card__date">12 Ene 2026</span>
                    <span class="blog-card__tag">Frontend</span>
                  </p>

                  <h3 class="blog-card__title">
                    C√≥mo estructuro un proyecto frontend desde cero
                  </h3>

                  <p class="blog-card__excerpt">
                    Carpetas, componentes, estilos y peque√±os trucos para que un
                    proyecto no se vuelva un caos a la tercera semana.
                  </p>

                  <div class="blog-card__tagsline">
                    <span>#frontend</span>
                    <span>#arquitectura</span>
                    <span>#proyectos</span>
                  </div>

                  <div class="blog-card__footer">
                    <span class="blog-card__readtime">
                      Lectura corta ¬∑ ~6 min
                    </span>
                    <span class="blog-card__cta">Leer art√≠culo ‚Üí</span>
                  </div>
                </div>
              </a>
            </article>

            <article
              class="blog-card"
              data-year="2026"
              data-month="01"
              data-date="2026-01-12"
              data-tags="frontend,estructura,proyecto"
              data-title="C√≥mo estructuro un proyecto frontend desde cero"
            >
              <a
                href="/blog/estructura-proyecto-frontend.html"
                class="blog-card__link"
              >
                <div class="blog-card__thumb blog-card__thumb--one"></div>

                <div class="blog-card__body">
                  <p class="blog-card__meta">
                    <span class="blog-card__date">12 Ene 2026</span>
                    <span class="blog-card__tag">Frontend</span>
                  </p>

                  <h3 class="blog-card__title">
                    C√≥mo estructuro un proyecto frontend desde cero
                  </h3>

                  <p class="blog-card__excerpt">
                    Carpetas, componentes, estilos y peque√±os trucos para que un
                    proyecto no se vuelva un caos a la tercera semana.
                  </p>

                  <div class="blog-card__tagsline">
                    <span>#frontend</span>
                    <span>#arquitectura</span>
                    <span>#proyectos</span>
                  </div>

                  <div class="blog-card__footer">
                    <span class="blog-card__readtime">
                      Lectura corta ¬∑ ~6 min
                    </span>
                    <span class="blog-card__cta">Leer art√≠culo ‚Üí</span>
                  </div>
                </div>
              </a>
            </article>

            <article
              class="blog-card"
              data-year="2026"
              data-month="01"
              data-date="2026-01-12"
              data-tags="frontend,estructura,proyecto"
              data-title="C√≥mo estructuro un proyecto frontend desde cero"
            >
              <a
                href="/blog/estructura-proyecto-frontend.html"
                class="blog-card__link"
              >
                <div class="blog-card__thumb blog-card__thumb--one"></div>

                <div class="blog-card__body">
                  <p class="blog-card__meta">
                    <span class="blog-card__date">12 Ene 2026</span>
                    <span class="blog-card__tag">Frontend</span>
                  </p>

                  <h3 class="blog-card__title">
                    C√≥mo estructuro un proyecto frontend desde cero
                  </h3>

                  <p class="blog-card__excerpt">
                    Carpetas, componentes, estilos y peque√±os trucos para que un
                    proyecto no se vuelva un caos a la tercera semana.
                  </p>

                  <div class="blog-card__tagsline">
                    <span>#frontend</span>
                    <span>#arquitectura</span>
                    <span>#proyectos</span>
                  </div>

                  <div class="blog-card__footer">
                    <span class="blog-card__readtime">
                      Lectura corta ¬∑ ~6 min
                    </span>
                    <span class="blog-card__cta">Leer art√≠culo ‚Üí</span>
                  </div>
                </div>
              </a>
            </article>

            <article
              class="blog-card"
              data-year="2026"
              data-month="01"
              data-date="2026-01-12"
              data-tags="frontend,estructura,proyecto"
              data-title="C√≥mo estructuro un proyecto frontend desde cero"
            >
              <a
                href="/blog/estructura-proyecto-frontend.html"
                class="blog-card__link"
              >
                <div class="blog-card__thumb blog-card__thumb--one"></div>

                <div class="blog-card__body">
                  <p class="blog-card__meta">
                    <span class="blog-card__date">12 Ene 2026</span>
                    <span class="blog-card__tag">Frontend</span>
                  </p>

                  <h3 class="blog-card__title">
                    C√≥mo estructuro un proyecto frontend desde cero
                  </h3>

                  <p class="blog-card__excerpt">
                    Carpetas, componentes, estilos y peque√±os trucos para que un
                    proyecto no se vuelva un caos a la tercera semana.
                  </p>

                  <div class="blog-card__tagsline">
                    <span>#frontend</span>
                    <span>#arquitectura</span>
                    <span>#proyectos</span>
                  </div>

                  <div class="blog-card__footer">
                    <span class="blog-card__readtime">
                      Lectura corta ¬∑ ~6 min
                    </span>
                    <span class="blog-card__cta">Leer art√≠culo ‚Üí</span>
                  </div>
                </div>
              </a>
            </article>


            <!-- Art√≠culo 1 -->
            <article
              class="blog-card"
              data-year="2026"
              data-month="01"
              data-date="2026-01-12"
              data-tags="frontend,estructura,proyecto"
              data-title="C√≥mo estructuro un proyecto frontend desde cero"
            >
              <a
                href="/blog/estructura-proyecto-frontend.html"
                class="blog-card__link"
              >
                <div class="blog-card__thumb blog-card__thumb--one"></div>

                <div class="blog-card__body">
                  <p class="blog-card__meta">
                    <span class="blog-card__date">12 Ene 2026</span>
                    <span class="blog-card__tag">Frontend</span>
                  </p>

                  <h3 class="blog-card__title">
                    C√≥mo estructuro un proyecto frontend desde cero
                  </h3>

                  <p class="blog-card__excerpt">
                    Carpetas, componentes, estilos y peque√±os trucos para que un
                    proyecto no se vuelva un caos a la tercera semana.
                  </p>

                  <div class="blog-card__tagsline">
                    <span>#frontend</span>
                    <span>#arquitectura</span>
                    <span>#proyectos</span>
                  </div>

                  <div class="blog-card__footer">
                    <span class="blog-card__readtime">
                      Lectura corta ¬∑ ~6 min
                    </span>
                    <span class="blog-card__cta">Leer art√≠culo ‚Üí</span>
                  </div>
                </div>
              </a>
            </article>

            <!-- Art√≠culo 2 -->
            <article
              class="blog-card"
              data-year="2026"
              data-month="01"
              data-date="2026-01-05"
              data-tags="css,responsive,frontend"
              data-title="Responsive sin drama: c√≥mo pienso el dise√±o m√≥vil primero"
            >
              <a href="/blog/responsive-sin-drama.html" class="blog-card__link">
                <div class="blog-card__thumb blog-card__thumb--two"></div>

                <div class="blog-card__body">
                  <p class="blog-card__meta">
                    <span class="blog-card__date">05 Ene 2026</span>
                    <span class="blog-card__tag">CSS</span>
                  </p>

                  <h3 class="blog-card__title">
                    Responsive sin drama: c√≥mo pienso el dise√±o m√≥vil primero
                  </h3>

                  <p class="blog-card__excerpt">
                    En vez de pelearte con media queries al final, te cuento c√≥mo
                    parto de mobile y voy subiendo sin perder el control.
                  </p>

                  <div class="blog-card__tagsline">
                    <span>#css</span>
                    <span>#responsive</span>
                    <span>#frontend</span>
                  </div>

                  <div class="blog-card__footer">
                    <span class="blog-card__readtime">~5 min</span>
                    <span class="blog-card__cta">Leer art√≠culo ‚Üí</span>
                  </div>
                </div>
              </a>
            </article>

            <!-- Art√≠culo 3 -->
            <article
              class="blog-card"
              data-year="2025"
              data-month="12"
              data-date="2025-12-22"
              data-tags="buenas-practicas,portafolio,frontend"
              data-title="Errores que comet√≠ haciendo portafolios (y que t√∫ puedes evitar)"
            >
              <a
                href="/blog/errores-portafolio-dev.html"
                class="blog-card__link"
              >
                <div class="blog-card__thumb blog-card__thumb--three"></div>

                <div class="blog-card__body">
                  <p class="blog-card__meta">
                    <span class="blog-card__date">22 Dic 2025</span>
                    <span class="blog-card__tag">Buenas pr√°cticas</span>
                  </p>

                  <h3 class="blog-card__title">
                    Errores que comet√≠ haciendo portafolios (y que t√∫ puedes evitar)
                  </h3>

                  <p class="blog-card__excerpt">
                    Cosas que parecen peque√±as pero hacen que un reclutador o
                    cliente cierre la pesta√±a sin pensarlo mucho.
                  </p>

                  <div class="blog-card__tagsline">
                    <span>#buenas-practicas</span>
                    <span>#portafolio</span>
                    <span>#frontend</span>
                  </div>

                  <div class="blog-card__footer">
                    <span class="blog-card__readtime">~7 min</span>
                    <span class="blog-card__cta">Leer art√≠culo ‚Üí</span>
                  </div>
                </div>
              </a>
            </article>
          </div>

          <!-- BOT√ìN VER M√ÅS -->
<div class="blog-loadmore">
  <button id="btn-loadmore" class="btn-loadmore" type="button">
    Ver m√°s art√≠culos ‚Üì
  </button>
</div>
        </div>
      </section>
    </main>


    <!-- FOOTER -->
    <footer class="footer">
      <div class="footer__inner">
        <div class="footer__brand">
          <span class="footer__name">Samuel Cubano</span>
          <span class="footer__role">Desarrollador Web</span>
        </div>

        <div class="footer__social">
          <a
            href="https://github.com/SamuelCubano"
            target="_blank"
            rel="noreferrer"
            class="social-icon"
            aria-label="GitHub"
          ><i class="fa-brands fa-github"></i>
          </a>
          <a
            href="https://www.instagram.com/samuelcubano/"
            target="_blank"
            rel="noreferrer"
            class="social-icon"
            aria-label="Instagram"
          ><i class="fa-brands fa-instagram"></i>
          </a>
          <a
            href="https://www.linkedin.com/in/samuel-cubano-0b520b288/"
            target="_blank"
            rel="noreferrer"
            class="social-icon"
            aria-label="LinkedIn"
          ><i class="fa-brands fa-linkedin"></i>
          </a>
        </div>
      </div>
      <p class="footer__copy">
        ¬© <span id="year"></span> Samuel Cubano
      </p>
    </footer>

        <script>
// ===============================
// SELECTORES GENERALES
// ===============================
const body = document.body;
const toggleBtn = document.querySelector(".nav__toggle");
const mobileMenu = document.querySelector(".mobile-menu");
const closeTriggers = document.querySelectorAll("[data-close-menu]");
const desktopThemeToggle = document.querySelector(".theme-toggle");
const mobileThemeToggle = document.querySelector(".theme-toggle--mobile");
const yearSpan = document.getElementById("year");
const revealEls = document.querySelectorAll(".reveal");

// Modal contacto
const contactModal = document.getElementById("contact-modal");
const openModalBtn = document.getElementById("open-contact-modal");
const closeModalEls = document.querySelectorAll("[data-close-modal]");
const copyEmailBtn = document.getElementById("copy-email-btn");
const copiedBadge = document.getElementById("copied-badge");
const CONTACT_EMAIL = "samcubdev@gmail.com";

// ===============================
// NAV / MEN√ö M√ìVIL
// ===============================
function setMenu(open) {
  if (!toggleBtn || !mobileMenu) return;
  body.classList.toggle("nav-open", open);
  toggleBtn.setAttribute("aria-expanded", open ? "true" : "false");
}

if (toggleBtn && mobileMenu) {
  let isOpen = false;

  toggleBtn.addEventListener("click", () => {
    isOpen = !isOpen;
    setMenu(isOpen);
  });

  closeTriggers.forEach((el) => {
    el.addEventListener("click", () => {
      isOpen = false;
      setMenu(false);
    });
  });

  window.addEventListener("keydown", (e) => {
    if (e.key === "Escape" && isOpen) {
      isOpen = false;
      setMenu(false);
    }
  });
}

// ===============================
// TEMA OSCURO / CLARO
// ===============================
function applyTheme(theme) {
  body.classList.remove("theme-dark", "theme-light");
  body.classList.add(`theme-${theme}`);
  localStorage.setItem("theme", theme);

  const icon = theme === "dark" ? "üåô" : "‚òÄÔ∏è";
  document.querySelectorAll(".theme-toggle__icon").forEach((el) => {
    el.textContent = icon;
  });
}

(function initTheme() {
  const stored = localStorage.getItem("theme");
  const prefersDark =
    window.matchMedia &&
    window.matchMedia("(prefers-color-scheme: dark)").matches;

  const theme = stored || (prefersDark ? "dark" : "light");
  applyTheme(theme);
})();

function toggleTheme() {
  const isDark = body.classList.contains("theme-dark");
  applyTheme(isDark ? "light" : "dark");
}

if (desktopThemeToggle) desktopThemeToggle.addEventListener("click", toggleTheme);
if (mobileThemeToggle) mobileThemeToggle.addEventListener("click", toggleTheme);

// ===============================
// ANIMACI√ìN DE REVEAL AL HACER SCROLL
// ===============================
if ("IntersectionObserver" in window && revealEls.length) {
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("is-visible");
          observer.unobserve(entry.target);
        }
      });
    },
    { threshold: 0.18 }
  );

  revealEls.forEach((el) => observer.observe(el));
} else {
  revealEls.forEach((el) => el.classList.add("is-visible"));
}

// ===============================
// A√ëO EN EL FOOTER
// ===============================
if (yearSpan) {
  yearSpan.textContent = new Date().getFullYear();
}

// ===============================
// MODAL DE CONTACTO
// ===============================
function setModal(open) {
  if (!contactModal) return;
  contactModal.classList.toggle("is-open", open);
}

if (openModalBtn && contactModal) {
  openModalBtn.addEventListener("click", () => setModal(true));
}

closeModalEls.forEach((el) => {
  el.addEventListener("click", () => setModal(false));
});

window.addEventListener("keydown", (e) => {
  if (e.key === "Escape" && contactModal?.classList.contains("is-open")) {
    setModal(false);
  }
});

// ===============================
// COPIAR CORREO AL PORTAPAPELES
// ===============================
if (copyEmailBtn && copiedBadge) {
  copyEmailBtn.addEventListener("click", async () => {
    try {
      await navigator.clipboard.writeText(CONTACT_EMAIL);
      copiedBadge.setAttribute("aria-hidden", "false");
      copiedBadge.classList.add("is-visible");

      setTimeout(() => {
        copiedBadge.classList.remove("is-visible");
        copiedBadge.setAttribute("aria-hidden", "true");
      }, 1800);
    } catch (err) {
      console.error("No se pudo copiar el correo", err);
      alert("No se pudo copiar. Copia manualmente: " + CONTACT_EMAIL);
    }
  });
}

</script>

<script>
(() => {
  const searchInput = document.getElementById("blog-search");
  const yearSelect = document.getElementById("filter-year");
  const monthSelect = document.getElementById("filter-month");
  const tagButtons = document.querySelectorAll(".tag-chip");
  const grid = document.getElementById("blog-grid");
  const emptyState = document.getElementById("blog-empty");
  const loadMoreBtn = document.getElementById("btn-loadmore");
  const backToTopBtn = document.getElementById("back-to-top");
  const blogTop = document.querySelector(".blog-anchor");

  if (!grid) return;

  let cards = Array.from(grid.querySelectorAll(".blog-card"));
  let activeTag = "all";
  let visibleCount = 6;
  let lastFiltered = [];

  // ---------- Utils ----------
  const normalize = (str) =>
    (str || "")
      .toLowerCase()
      .normalize("NFD")
      .replace(/[\u0300-\u036f]/g, "");

  const debounce = (fn, wait = 120) => {
    let t;
    return (...args) => {
      clearTimeout(t);
      t = setTimeout(() => fn(...args), wait);
    };
  };

  // ---------- Ordenar por fecha DESC una sola vez ----------
  cards.sort((a, b) => new Date(b.dataset.date) - new Date(a.dataset.date));
  cards.forEach((c) => grid.appendChild(c));

  // ---------- Mostrar/Ocultar sin inline styles pesados ----------
  // Usamos hidden (display:none nativo) + clases para animar suavemente.
  function setCardVisible(card, shouldShow, animate = false) {
    if (shouldShow) {
      // Si ya estaba visible, no hacemos nada
      if (!card.hidden) return;

      card.hidden = false;
      card.classList.remove("is-hidden");

      if (animate) {
        card.classList.add("is-enter");
        // Quitamos clase al terminar para que no se buguee/re-animen todas
        const onEnd = () => {
          card.classList.remove("is-enter");
          card.removeEventListener("animationend", onEnd);
        };
        card.addEventListener("animationend", onEnd);
      }
    } else {
      if (card.hidden) return;
      card.classList.remove("is-enter");
      card.classList.add("is-hidden");
      // Espera 1 frame para que el transform/opacity se apliquen (si quieres micro-fade),
      // pero como ocultamos layout con hidden, lo hacemos directo:
      card.hidden = true;
    }
  }

  function updateBackToTop(listLength) {
    if (!backToTopBtn) return;
    const shouldShow = listLength > 6 && window.scrollY > 300;
    backToTopBtn.classList.toggle("is-visible", shouldShow);
  }

  // ---------- Render seg√∫n filtros + paginado ----------
  function applyFilters() {
    const term = normalize(searchInput?.value);
    const year = yearSelect?.value || "all";
    const month = monthSelect?.value || "all";

    const filtered = [];

    for (const card of cards) {
      const title = normalize(card.dataset.title);
      const tags = normalize(card.dataset.tags);
      const cardYear = card.dataset.year;
      const cardMonth = card.dataset.month;

      let match = true;

      if (term && !title.includes(term) && !tags.includes(term)) match = false;
      if (year !== "all" && cardYear !== year) match = false;
      if (month !== "all" && cardMonth !== month) match = false;
      if (activeTag !== "all" && !tags.includes(activeTag)) match = false;

      if (match) filtered.push(card);
    }

    lastFiltered = filtered;

    // Empty state
    if (emptyState) emptyState.hidden = filtered.length > 0;

    // Mostrar gradual: solo los primeros visibleCount
    // IMPORTANTE: aqu√≠ ocultamos SOLO lo necesario, sin estilos inline.
    filtered.forEach((card, idx) => {
      const shouldShow = idx < visibleCount;
      // Animar solo cuando pasa de oculto->visible
      setCardVisible(card, shouldShow, shouldShow);
    });

    // Ocultar los que NO est√°n filtrados
    // (evitas que queden por ah√≠ visibles por error)
    const filteredSet = new Set(filtered);
    for (const card of cards) {
      if (!filteredSet.has(card)) setCardVisible(card, false);
    }

    // Load more
    if (loadMoreBtn) {
      loadMoreBtn.style.display =
        visibleCount >= filtered.length ? "none" : "inline-block";
    }

    updateBackToTop(filtered.length);
  }

  // ---------- Eventos ----------
  const applyFiltersDebounced = debounce(() => {
    visibleCount = 6;
    applyFilters();
  }, 140);

  searchInput?.addEventListener("input", applyFiltersDebounced);
  yearSelect?.addEventListener("change", () => {
    visibleCount = 6;
    applyFilters();
  });
  monthSelect?.addEventListener("change", () => {
    visibleCount = 6;
    applyFilters();
  });

  tagButtons.forEach((btn) => {
    btn.addEventListener("click", () => {
      tagButtons.forEach((b) => b.classList.remove("tag-chip--active"));
      btn.classList.add("tag-chip--active");
      activeTag = btn.dataset.tag || "all";
      visibleCount = 6;
      applyFilters();
    });
  });

  loadMoreBtn?.addEventListener("click", () => {
    const prev = visibleCount;
    visibleCount += 6;

    // Render pero animando solo las NUEVAS
    applyFilters();

    // Bonus: si quieres que SOLO las nuevas tengan animaci√≥n extra,
    // podr√≠amos detectarlas con prev..visibleCount.
    // (Con el setCardVisible actual ya anima solo cuando aparece.)

    if (backToTopBtn && lastFiltered.length > 6) {
      backToTopBtn.classList.add("is-visible");
    }
  });

  // Scroll ultra suave (rAF + passive)
  let ticking = false;
  window.addEventListener(
    "scroll",
    () => {
      if (!ticking) {
        ticking = true;
        requestAnimationFrame(() => {
          updateBackToTop(lastFiltered.length);
          ticking = false;
        });
      }
    },
    { passive: true }
  );

  // Volver arriba
  if (backToTopBtn && blogTop) {
    backToTopBtn.addEventListener("click", () => {
      blogTop.scrollIntoView({ behavior: "smooth", block: "start" });
    });
  }

  // Estado inicial: oculta todas, luego aplica filtros
  cards.forEach((c) => {
    c.hidden = true;
    c.classList.add("is-hidden");
  });

  applyFilters();
})();
</script>



<button
  id="back-to-top"
  class="back-to-top"
  type="button"
  aria-label="Volver arriba"
>
  ‚Üë
</button>


  </body>
</html>
